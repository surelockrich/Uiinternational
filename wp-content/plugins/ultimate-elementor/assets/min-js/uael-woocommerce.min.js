!function(t){var e=function(t,e){if(void 0!==t){var a=t.find(".uael-woo-products-slider");if(a.length>0){var o=a.find("ul.products"),i=JSON.parse(a.attr("data-woo_slider"));o.slick(i)}elementorFrontend.isEditMode()||(function(t,e){var a=t.data("id"),o=(t.find(".uael-quick-view-btn"),t.find(".uael-quick-view-"+a));o.appendTo(document.body);var i=o.find(".uael-quick-view-bg"),d=o.find("#uael-quick-view-modal"),n=d.find("#uael-quick-view-content"),r=d.find("#uael-quick-view-close"),u=d.find(".uael-content-main-wrapper");u.width(),u.height();t.off("click",".uael-quick-view-btn").on("click",".uael-quick-view-btn",function(t){t.preventDefault();var a=e(this),o=(a.closest("li.product"),a.data("product_id"));d.hasClass("loading")||d.addClass("loading"),i.hasClass("uael-quick-view-bg-ready")||i.addClass("uael-quick-view-bg-ready"),e(document).trigger("uael_quick_view_loading"),c(a,o)});var c=function(t,a){d.css("opacity",0),e.ajax({url:uael.ajax_url,data:{action:"uael_woo_quick_view",product_id:a},dataType:"html",type:"POST",success:function(t){n.html(t),l()}})},l=function(){var t=n.find(".variations_form");if(t.trigger("check_variations"),t.trigger("reset_image"),!d.hasClass("open")){d.removeClass("loading").addClass("open");var a=_(),o=e("html");o.css("margin-right",a),o.addClass("uael-quick-view-is-open")}var i=d.find(".variations_form");i.length>0&&"function"==typeof i.wc_variation_form&&(i.wc_variation_form(),i.find("select").change()),n.imagesLoaded(function(t){var e=d.find(".uael-qv-image-slider");e.find("li").length>1?e.flexslider({animation:"slide",start:function(t){setTimeout(function(){s(!0)},300)}}):setTimeout(function(){s(!0)},300)}),e(document).trigger("uael_quick_view_loader_stop")},s=function(t){var e=n,a=e.find(".product .uael-qv-image-slider").first().height(),o=e.find(".product .summary.entry-summary"),i=o.css("content");void 0!==i&&544==i.replace(/[^0-9]/g,"")&&0!=a&&null!==a?o.css("height",a):o.css("height",""),!0===t&&d.css("opacity",1)},_=function(){var t=e('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');e("body").append(t);var a=e("div",t).innerWidth();t.css("overflow-y","scroll");var o=e("div",t).innerWidth();return e(t).remove(),a-o};!function(){u.on("click",function(e){this===e.target&&t()}),e(document).keyup(function(e){27===e.keyCode&&t()}),r.on("click",function(e){e.preventDefault(),t()});var t=function(){i.removeClass("uael-quick-view-bg-ready"),d.removeClass("open").removeClass("loading"),e("html").removeClass("uael-quick-view-is-open"),e("html").css("margin-right",""),setTimeout(function(){n.html("")},600)}}(),window.addEventListener("resize",function(t){s()});var f=function(){o.off("click","#uael-quick-view-content .single_add_to_cart_button").off("uael_added_to_cart").on("click","#uael-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("uael_added_to_cart",this.updateButton)};f.prototype.onAddToCart=function(t){t.preventDefault();var a=e(this),i=e(this).val(),d=e('input[name="variation_id"]').val()||"",n=e('input[name="quantity"]').val();a.is(".single_add_to_cart_button")&&(a.removeClass("added"),a.addClass("loading"),""!=d?jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+i+"&variation_id="+d+"&quantity="+n,success:function(t){e(document.body).trigger("wc_fragment_refresh"),e(document.body).trigger("uael_added_to_cart",[a])}}):jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+i+"&quantity="+n,success:function(t){e(document.body).trigger("wc_fragment_refresh"),o.trigger("uael_added_to_cart",[a])}}))},f.prototype.updateButton=function(t,a){e(a=void 0!==a&&a)&&(e(a).removeClass("loading"),e(a).addClass("added"),!uael.is_cart&&0===e(a).parent().find(".added_to_cart").length&&uael.is_single_product&&e(a).after(' <a href="'+uael.cart_url+'" class="added_to_cart wc-forward" title="'+uael.view_cart+'">'+uael.view_cart+"</a>"))},new f}(t,e),function(t,e){if($layout=t.data("element_type"),"uael-woo-products.grid-franko"===$layout||"uael-woo-products-slider.slider-franko"===$layout){var a=function(){e(document.body).off("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple").off("uael_product_actions_added_to_cart").on("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple",this.onAddToCart).on("uael_product_actions_added_to_cart",this.updateButton)};a.prototype.onAddToCart=function(t){t.preventDefault();var a=e(this),o=a.data("product_id");a.find("uael-action-item"),a.removeClass("added"),a.addClass("loading"),jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+o+"&quantity=1",success:function(t){e(document.body).trigger("wc_fragment_refresh"),e(document.body).trigger("uael_product_actions_added_to_cart",[a])}})},a.prototype.updateButton=function(t,a){e(a=void 0!==a&&a)&&(e(a).removeClass("loading"),e(a).addClass("added"))},new a}}(t,e))}},a=function(t,e){e("body").off("added_to_cart.uael_cart").on("added_to_cart.uael_cart",function(t,e,a,o){o.closest(".elementor-widget-uael-woo-add-to-cart").length>0&&o.length>0&&!uael.is_cart&&o.hasClass("added")&&(window.location=uael.cart_url)})};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-default",e),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-franko",e),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-add-to-cart.default",a)})}();